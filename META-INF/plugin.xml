<idea-plugin version="2">
    <id>org.pcsoft.plugins.intellij.inno_setup</id>
    <name>Inno Setup Script Support Plugin</name>
    <version>1.0</version>
    <vendor email="support@yourcompany.com" url="http://www.yourcompany.com">PC-Soft</vendor>

    <description><![CDATA[
      Support for Inno Setup Script Files (*.iss)
    ]]></description>

    <change-notes><![CDATA[

    ]]>
    </change-notes>

    <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
    <idea-version since-build="131"/>

    <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
         on how to target different products -->
    <!-- uncomment to enable plugin in all products
    <depends>com.intellij.modules.lang</depends>
    -->

    <extensions defaultExtensionNs="com.intellij">
        <!-- ******************************** SCRIPT ********************************* -->
        <!-- Language -->
        <fileTypeFactory implementation="org.pcsoft.plugins.intellij.inno_setup.script.IssScriptFileTypeFactory"/>
        <fileTypeFactory implementation="org.pcsoft.plugins.intellij.inno_setup.script.IssLanguageFileTypeFactory"/>
        <!-- Parser & Syntax -->
        <lang.parserDefinition language="iss"
                               implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.IssParserDefinition"/>
        <lang.syntaxHighlighterFactory language="iss"
                                       implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.syntax.IssSyntaxHighlighterFactory"/>
        <colorSettingsPage
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.syntax.IssSyntaxColorSettingsPage"/>
        <!-- Structure -->
        <lang.psiStructureViewFactory language="iss"
                                      implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.structure.tree.IssStructureViewFactory"/>
        <lang.foldingBuilder language="iss"
                             implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.structure.folding.IssSectionFoldingBuilder"/>
        <!-- Others -->
        <lang.commenter language="iss"
                        implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.others.IssCommenter"/>
        <lang.formatter language="iss"
                        implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.structure.formatting.IssFormattingModelBuilder"/>
        <codeStyleSettingsProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.structure.formatting.IssCodeStyleSettingsProvider"/>
        <langCodeStyleSettingsProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.structure.formatting.IssLanguageCodeStyleSettingsProvider"/>

        <!-- Annotators -->
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssExtendedHighlightingAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionCommonAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionFileAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionDirectoryAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionComponentAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionTaskAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionTypeAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionIconAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionInstallRunAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionUninstallRunAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionINIAnnotator"/>
        <annotator language="iss"
                   implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.highlighting.annotator.IssSectionRegistryAnnotator"/>

        <!-- Contributors -->
        <!-- Completion -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.IssSectionHeaderCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.IssInternalConstantCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssLanguagesValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssFontValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssBooleanValueCompletionContributor"/>
        <!-- Setup -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssSetupPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssTypeCompressionValueCompletionContributor"/>
        <!-- LanguageOption -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssLanguageOptionPropertyCompletionContributor"/>
        <!-- Task -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssTaskPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssTaskFlagValueCompletionContributor"/>
        <!-- Component -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssComponentPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssComponentFlagValueCompletionContributor"/>
        <!-- Type -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssTypePropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssTypeFlagValueCompletionContributor"/>
        <!-- File -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssFilePropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssFileFlagValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssIOCopyModeValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssIOAttributeValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssIOPermissionValueCompletionContributor"/>
        <!-- Directory -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssDirectoryPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssDirectoryFlagValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssIOAttributeValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssIOPermissionValueCompletionContributor"/>
        <!-- Icon -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssIconPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssIconFlagValueCompletionContributor"/>
        <!-- Install Run -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssInstallRunPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssInstallRunFlagValueCompletionContributor"/>
        <!-- Uninstall Run -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssUninstallRunPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssUninstallRunFlagValueCompletionContributor"/>
        <!-- INI -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssINIPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssINIFlagValueCompletionContributor"/>
        <!-- Registry -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssRegistryPropertyCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssRegistryFlagValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssRegistryRootValueCompletionContributor"/>
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.value.IssRegistryValueTypeValueCompletionContributor"/>
        <!-- Language -->
        <completion.contributor language="iss"
                                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.contributors.completion.property.IssLanguagePropertyCompletionContributor"/>

        <!-- Go To -->
        <gotoSymbolContributor
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.contributors.go_to.IssSectionTaskGoToContributor"/>
        <gotoSymbolContributor
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.contributors.go_to.IssSectionTypeGoToContributor"/>
        <gotoSymbolContributor
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.contributors.go_to.IssSectionComponentGoToContributor"/>

        <!-- Manipulators -->
        <lang.elementManipulator
                forClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.psi.elements.property.IssPropertyComponentReferenceValueElement"
                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.psi.manipulators.property.IssPropertyComponentReferenceValueElementManipulator"/>
        <lang.elementManipulator
                forClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.psi.elements.property.IssPropertyNameValueElement"
                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.psi.manipulators.property.IssPropertyNameValueElementManipulator"/>
        <lang.elementManipulator
                forClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.psi.elements.property.IssPropertyTaskReferenceValueElement"
                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.psi.manipulators.property.IssPropertyTaskReferenceValueElementManipulator"/>
        <lang.elementManipulator
                forClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.psi.elements.property.IssPropertyTypeReferenceValueElement"
                implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.parser.psi.manipulators.property.IssPropertyTypeReferenceValueElementManipulator"/>

        <lang.refactoringSupport language="iss"
                                 implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.others.IssRefactoringSupportProvider"/>
        <statementUpDownMover implementation="org.pcsoft.plugins.intellij.inno_setup.script.others.IssStatementUpDownMover"/>

        <!-- Documentation -->
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionComponentDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionTypeDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionTaskDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionFileDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionDirectoryDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionIconDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionInstallRunDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionUninstallRunDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionINIDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionRegistryDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionSetupDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionReferenceDocumentationProvider"/>
        <documentationProvider
                implementation="org.pcsoft.plugins.intellij.inno_setup.script.doc.IssSectionCommonDocumentationProvider"/>

        <!-- Line Marker -->
        <codeInsight.lineMarkerProvider language="iss"
                                        implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.references.marker.IssOverviewLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="iss"
                                        implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.references.marker.IssReferenceLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="iss"
                                        implementationClass="org.pcsoft.plugins.intellij.inno_setup.script.references.marker.IssLanguageLineMarkerProvider"/>

        <toolWindow factoryClass="org.pcsoft.plugins.intellij.inno_setup.configuration.ui.IssToolWindowFactory"
                    conditionClass="org.pcsoft.plugins.intellij.inno_setup.configuration.ui.IssToolWindowCondition"
                    canCloseContents="false" anchor="right" id="Inno Setup"/>

        <!-- ************************* RUN & COMPILE ****************************** -->
        <configurationType implementation="org.pcsoft.plugins.intellij.inno_setup.run.IssRunConfigurationType"/>
        <runConfigurationProducer implementation="org.pcsoft.plugins.intellij.inno_setup.run.IssRunConfigurationProducer"/>
        <applicationService serviceImplementation="org.pcsoft.plugins.intellij.inno_setup.configuration.IssCompilerSettings"/>
        <applicationConfigurable provider="org.pcsoft.plugins.intellij.inno_setup.configuration.IssCompilerConfiguration" parentId="project.propCompiler"/>

        <!-- ************************* OTHERS ****************************** -->
        <virtualFileSystem key="iss-file-system" implementationClass="org.pcsoft.plugins.intellij.inno_setup.vfs.IssVirtualFileSystem"/>
    </extensions>

    <application-components>
        <!-- Add your application components here -->
    </application-components>

    <project-components>
        <!-- Add your project components here -->
    </project-components>

    <actions>
        <!-- Add your actions here -->
    </actions>

</idea-plugin>